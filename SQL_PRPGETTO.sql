use CLINICA;
SET FOREIGN_KEY_CHECKS = 0;
drop TABLE IF EXISTS CREDENZIALI;
drop TABLE IF EXISTS CLIENTI;
drop TABLE IF EXISTS DIPENDENTI;
drop TABLE IF EXISTS PAZIENTI;
drop TABLE IF EXISTS FORNITORI;
drop TABLE IF EXISTS VISITE;
drop TABLE IF EXISTS OPERAZIONI;
drop TABLE IF EXISTS FARMACI;
drop TABLE IF EXISTS PRODOTTI_VENDITA;
drop TABLE IF EXISTS PRODOTTI_UTILI;
drop TABLE IF EXISTS USCITE;
drop TABLE IF EXISTS ENTRATE;
drop TABLE IF EXISTS VACCINAZIONI;
drop TABLE IF EXISTS LISTINO;
drop TABLE IF EXISTS SALE;

CREATE TABLE CREDENZIALI (
    USERNAME CHAR(40) PRIMARY KEY,
    PWD CHAR(20),
    CF CHAR(20),
    PERMESSO BOOLEAN
);

INSERT INTO CREDENZIALI VALUES
		('Veterinario01', 'Clinica_2022','F001', 1);
INSERT INTO CREDENZIALI VALUES
		('Giovanni_verdi', 'GioVer_98','VRDGNN74R07G224L', 0);
INSERT INTO CREDENZIALI VALUES
		('AlbertoBianchi','AlBian?95', 'BNCLRT66E18H501W', 0);
INSERT INTO CREDENZIALI VALUES
        ('OrtuPagli','PAgort+02','MLNMGH00R69M109W', 0);
INSERT INTO CREDENZIALI VALUES
        ('ElenaViallani','Villelena-656','EFEW66121BFE8SV6',0);
INSERT INTO CREDENZIALI VALUES
        ('MarcoVilla','allMarc.941','FBEE9B6B4B64B826',0);
INSERT INTO CREDENZIALI VALUES
        ('GiocondaFirmani', 'TerGio+65','EBE6BT5662BG9DB9',0);
INSERT INTO CREDENZIALI VALUES
        ('PaolaMagrini', 'MagPAol87','BEFBE9456B54649B',0);
INSERT INTO CREDENZIALI VALUES
        ('MargheritaRossi','MARoss4','DBFBTE565965DF46',0);
INSERT INTO CREDENZIALI VALUES
        ('RobertoNovelli','RVovelli00','E6GE55G626366BF8',0);
        
        
CREATE TABLE CLIENTI (
    NOME CHAR(40),
    COGNOME CHAR(20),
    CF_CL CHAR(40) PRIMARY KEY,
    EMAIL CHAR(20),
    TELEFONO CHAR(20),
    CITTA CHAR(20),
    INDIRIZZO CHAR(20)
);

INSERT INTO CLIENTI VALUES
		('giovanni', 'verdi','VRDGNN74R07G224L', '3773858617' , 'giover@gmail.com' , 'Padova' , 'VIA PIAVE 7');
INSERT INTO CLIENTI VALUES
		('alberto', 'bianchi','BNCLRT66E18H501W', '3426186569' , 'bianchial@gmail.com' , 'Roma', 'VIA ROMA 12');
INSERT INTO CLIENTI VALUES
        ('ORTU','PAGLI','MLNMGH00R69M109W','337562989','portu@gmail.com','Siracusa', 'PIAZZA PETRARCA 70');
INSERT INTO CLIENTI VALUES
        ('ELENA' ,'VILLANI','EFEW66121BFE8SV6','@gmail.com','3476264596','Padova', 'VIA VERDI 8');
INSERT INTO CLIENTI VALUES
        ('marco', 'VILLA','FBEE9B6B4B64B826','@gmail.com','8984165221','Lecce', 'VIA PAPA PAOLO VI 13');
INSERT INTO CLIENTI VALUES
        ('gioconda','FIRMANI','EBE6BT5662BG9DB9','@gmail.com', '567466541','Monza', 'STRADA NUOVA 67');
INSERT INTO CLIENTI VALUES
        ('paola','MAGRINI','3668131656','BEFBE9456B54649B','@gmail.com','Genova', 'CORSO CAVOUR 15');
INSERT INTO CLIENTI VALUES
        ('margherita','ROSSI','DBFBTE565965DF46','@gmail.com','3326461665','Firenze', 'VIA BONIZZONI 5');
INSERT INTO CLIENTI VALUES
        ('roberto','NOVELLI','E6GE55G626366BF8','@gmail.com','569446154','Milano', 'VIA UGO FOSCOLO 10');


CREATE TABLE DIPENDENTI (
    
    NOME CHAR(40),
    COGNOME CHAR(20),
    CF_DIP CHAR(20) PRIMARY KEY,
    EMAIL CHAR(30),
    TELEFONO char(20),
    CITTA CHAR(20),
    INDIRIZZO CHAR(40),
    PIVA CHAR(25),
    TIPO_DI_CONTRATTO CHAR(20),
    STIPENDIO DOUBLE,
    COMMISS DOUBLE,
    IBAN CHAR(25)
);

INSERT INTO DIPENDENTI VALUES
		('davide', 'brambilla','BRMDVD66E18F205U', 'albe00@gmail.com', 377974669852,'Milano', 'VIA MASSIMO D ARZEGLIO 19','IV1', 'indeterminato', 2100, 500,'ITCD67446110000634');
INSERT INTO DIPENDENTI VALUES
		('maria', 'locasciulli','LCSMRA80A43B963A','loc340@gmail.com', 3779746623429 ,'Caserta', 'VIA MARCHE 17A', 'IV2', 'STAGE', 1850, 300, 'ITH8592627549600006463');
INSERT INTO DIPENDENTI VALUES
		('ERICA', 'MORETTI','EVEFVSV456546654', 'eri6728@gmail.com',  3469451646516,'MONZA', 'VIA CALABRIA 4', 'IV3', 'indeterminato', 2000, 500, 'ITUFH6462230000634');
INSERT INTO DIPENDENTI VALUES
		('roberto', 'quasimodo','ROIWH9464568974V','robyquasi70@gmail.com', 3669942655965,'RIMINI', 'VIA CIRO MENOTTI 6','IV4', 'determinato', 1950, 300,'ITVSF9596150000634');


CREATE TABLE FORNITORI (
    COD_FORN CHAR(20) PRIMARY KEY,
    PIVA CHAR(20),
    AZIENDA CHAR(40),
    TELEFONO BIGINT,
    EMAIL CHAR(20),
    CITTA CHAR(20),
    IBAN CHAR(25)
);

INSERT INTO FORNITORI VALUES ('F001', '954561518','mydog', 366168552 , 'mydog@gmail.com', 'Milano', 'ITG98532665269456264');
INSERT INTO FORNITORI VALUES ('F002', '984615198','mycat', 346945632 , 'mycat@gmail.com', 'Bergamo', 'ITA5959599752297412576');
INSERT INTO FORNITORI VALUES ('F003', '941611698','Lilyâ€™s Kitchen', 377926468 , 'mydog@gmail.com', 'Morza', 'ITG56114560000064642');


CREATE TABLE PAZIENTI (
    ID_PAZ CHAR(20) PRIMARY KEY,
    NOME CHAR(20),
    TIPO CHAR(20),
    RAZZA CHAR(20),
    DATA_NASC DATE,
    SESSO CHAR(1),
    VET_REFERENTE CHAR(20),
    GRUP_SANG CHAR(1),
    MICROCHIP CHAR(2),
    STERILIZZATO CHAR(2),
    PESO INT,
    DATA_MORTE DATE,
    PROPRIETARIO CHAR(20),
    NOTE CHAR(50),
    FOREIGN KEY (VET_REFERENTE)
        REFERENCES DIPENDENTI (CF_DIP),
	 FOREIGN KEY (PROPRIETARIO)
        REFERENCES CLIENTI (CF_CL)
);

INSERT INTO PAZIENTI VALUES
		('D846','polly', 'criceto', '', '2018-12-01','F' , 'LCSMRA80A43B963A', 'B', 'NO','SI', 5, NULL,'EBE6BT5662BG9DB9', NULL);
INSERT INTO PAZIENTI VALUES
		('K300','toby', 'cane', '', '2010-06-12', 'M' , 'BRMDVD66E18F205U' , 'A', 'SI','NO', 10, NULL,'E6GE55G626366BF8', NULL);
INSERT INTO PAZIENTI VALUES
		('S567','tommy', 'gatto', '', '2017-04-14','F' , 'LCSMRA80A43B963A', 'B', 'NO','SI', 5, NULL,'MLNMGH00R69M109W', NULL);
INSERT INTO PAZIENTI VALUES
		('U489','popi', 'cane', '', '2019-07-19', 'M' , 'BRMDVD66E18F205U' , 'A', 'SI','NO', 10, NULL,'EFEW66121BFE8SV6', NULL);
INSERT INTO PAZIENTI VALUES
		('T368','fido', 'gatto', '', '2008-12-25','F' , 'LCSMRA80A43B963A', 'B', 'NO','SI', 5, '2016-05-01','EBE6BT5662BG9DB9', NULL);
INSERT INTO PAZIENTI VALUES
		('Y378','eric', 'cane', '', '2015-11-29', 'M' , 'BRMDVD66E18F205U' , 'A', 'SI','NO', 10, NULL,'DBFBTE565965DF46', NULL);
INSERT INTO PAZIENTI VALUES
		('R937','bunny', 'coniglio', '', '2017-01-17','F' , 'LCSMRA80A43B963A', 'B', 'NO','SI', 5, NULL,'MLNMGH00R69M109W', NULL);
INSERT INTO PAZIENTI VALUES
		('P108','winny', 'uccellino', '', '2020-02-22', 'M' , 'BRMDVD66E18F205U' , 'A', 'SI','NO', 10, NULL,'EFEW66121BFE8SV6', NULL);

        

CREATE TABLE FARMACI (
    LOTTO CHAR(20) PRIMARY KEY,
    MODASSUNZ CHAR(20),
    TIPOFARMACI CHAR(40),
    COD_FORN CHAR(20),
    SCADENZA DATE,
    QTA INT,
    FOREIGN KEY (COD_FORN)
        REFERENCES FORNITORI (COD_FORN)
);

INSERT INTO FARMACI VALUES ('FR45','iniezione','prospet', 'F001', '2022-06-12' , 9);
INSERT INTO FARMACI VALUES ('FR90','iniezione','otodine', 'F002', '2023-10-19', 5);
INSERT INTO FARMACI VALUES ('FR21','inalazione','Clorexyderm', 'F004', '2022-12-30' , 11);
INSERT INTO FARMACI VALUES ('FR01','transdermica','diurecor', 'F003', '2023-01-04', 3);

CREATE TABLE PRODOTTI_VENDITA (
	NOME CHAR(40),
	QTA INT,
    COD_PROD CHAR(20) PRIMARY KEY,
    COD_FORN CHAR(20),
	DATA_SCAD DATE,
    	FOREIGN KEY (COD_FORN)
        REFERENCES FORNITORI (COD_FORN)
);

INSERT INTO PRODOTTI_VENDITA VALUES ('mangime','45','PR001', 'F002' ,'2026-06-12');
INSERT INTO PRODOTTI_VENDITA VALUES ('shampoo','49', 'PR002','F001' , '2026-05-12');

CREATE TABLE PRODOTTI_UTILI (
	NOME CHAR(40),
    QTA INT,
    COD_PROD CHAR(20) PRIMARY KEY,
    COD_FORN CHAR(20),
		FOREIGN KEY (COD_FORN)
        REFERENCES FORNITORI (COD_FORN)
);

INSERT INTO PRODOTTI_UTILI VALUES ('garza','2','PR001','F002');
INSERT INTO PRODOTTI_UTILI VALUES ('bisturi', '3','PR002','F001');


CREATE TABLE USCITE (
    COD_FATTURA INT PRIMARY KEY,
    BENEFICIARIO CHAR(20),
    CAUSALE CHAR(20),
    SALDO INT
);

INSERT INTO USCITE VALUES (51964, 'F001' , 'acquisto scorte' , 613);
INSERT INTO USCITE VALUES (55685, 'BRMDVD66E18F205U' , 'pagamento stipendio' , 2100);
INSERT INTO USCITE VALUES (45649, 'F002' , 'acquisto scorte' , 1052);
INSERT INTO USCITE VALUES (05494, 'EVEFVSV456546654' , 'pagamento stipendio' , 1850);
INSERT INTO USCITE VALUES (90549, 'F003' , 'acquisto scorte' , 364);
INSERT INTO USCITE VALUES (94616, 'ROIWH9464568974V' , 'pagamento stipendio' , 2000);
INSERT INTO USCITE VALUES (64615, 'F002' , 'acquisto scorte' , 980);
INSERT INTO USCITE VALUES (34561, 'LCSMRA80A43B963A' , 'pagamento stipendio' , 1950);

CREATE TABLE ENTRATE (
    COD_FATTURA CHAR(20) PRIMARY KEY,
    COD_CLIENTE CHAR(20),
    CAUSALE CHAR(20),
    SALDO INT,
    FOREIGN KEY (COD_CLIENTE)
        REFERENCES CLIENTI (CF_CL)
);

INSERT INTO ENTRATE VALUES ('84565', 'VRDGNN74R07G224L' , 'visita medica', 861);
INSERT INTO ENTRATE VALUES ('02355', 'BNCLRT66E18H501W' , 'operazione', 730);
INSERT INTO ENTRATE VALUES ('99525', 'BEFBE9456B54649B' , 'visita medica', 861);
INSERT INTO ENTRATE VALUES ('35662', 'EFEW66121BFE8SV6' , 'operazione', 730);
INSERT INTO ENTRATE VALUES ('06423', 'MLNMGH00R69M109W' , 'visita medica', 861);
INSERT INTO ENTRATE VALUES ('79416', 'BNCLRT66E18H501W' , 'operazione', 730);
INSERT INTO ENTRATE VALUES ('94526', 'ROIWH9464568974V' , 'visita medica', 861);
INSERT INTO ENTRATE VALUES ('04676', 'EFEW66121BFE8SV6' , 'operazione', 730);

CREATE TABLE VACCINAZIONI (
    COD_VACC CHAR(10) PRIMARY KEY,
    COD_CLIENTE CHAR(20),   
    TIPO CHAR(20),
    GIORNO DATE,
    RICHIAMO DATE,
     FOREIGN KEY (COD_CLIENTE)
        REFERENCES CLIENTI (CF_CL)
);

INSERT INTO VACCINAZIONI VALUES ('VC764', 'VRDGNN74R07G224L' , 'I dose', '2021-12-12', '2022-07-19');
INSERT INTO VACCINAZIONI VALUES ('VC379', 'BNCLRT66E18H501W' , 'I dose', '2021-12-12', '2023-06-14');
INSERT INTO VACCINAZIONI VALUES ('VC945', 'BEFBE9456B54649B' , 'I dose', '2021-12-12', '2024-05-16');
INSERT INTO VACCINAZIONI VALUES ('VC059', 'EFEW66121BFE8SV6' , 'II dose' , '2021-12-12', '2026-11-17');
INSERT INTO VACCINAZIONI VALUES ('VC646', 'MLNMGH00R69M109W' , 'II dose', '2021-12-12', '2023-07-14');
INSERT INTO VACCINAZIONI VALUES ('VC952', 'BNCLRT66E18H501W' , 'III dose','2021-12-12', '2023-10-15');
INSERT INTO VACCINAZIONI VALUES ('VC461', 'ROIWH9464568974V' , 'II dose','2021-12-12', '2022-01-02');
INSERT INTO VACCINAZIONI VALUES ('VC064', 'EFEW66121BFE8SV6' , 'I dose','2021-12-12', '2026-09-19');

CREATE TABLE VISITE (
    COD_VISITA CHAR(20) PRIMARY KEY,
    ID_PAZ CHAR(20),
    SALA CHAR(20),
    TIPO CHAR(20),
    GIORNO DATE,  
    ORA TIME(0),
    VET_REFERENTE CHAR(20),
    COSTO DOUBLE,
    NOTE CHAR(50),
    FOREIGN KEY (VET_REFERENTE)
        REFERENCES DIPENDENTI (CF_DIP),
    FOREIGN KEY (SALA)
        REFERENCES SALE (COD_SALA),
	FOREIGN KEY (ID_PAZ)
		REFERENCES PAZIENTI(ID_PAZ)
);


INSERT INTO VISITE VALUES ('VS004','K300', 'S01','01', '2020-06-25', '10:30:00', 'BRMDVD66E18F205U' ,'100',NULL );
INSERT INTO VISITE VALUES ('VS679','S567', 'S02','02', '2020-01-14','14:00:00', 'LCSMRA80A43B963A','100',NULL);
INSERT INTO VISITE VALUES ('VS767','D846', 'S05','02', '2021-06-21', '11:40:00', 'EVEFVSV456546654' ,'150',NULL );
INSERT INTO VISITE VALUES ('VS354','P108', 'S02','01', '2021-01-10','09:30:00', 'ROIWH9464568974V','100',NULL);
INSERT INTO VISITE VALUES ('VS561','R937', 'S05','04', '2021-06-28', '15:15:00', 'BRMDVD66E18F205U' ,'100',NULL );
INSERT INTO VISITE VALUES ('VS763','Y378', 'S01','01', '2022-01-31','16:30:00', 'EVEFVSV456546654','100',NULL);
INSERT INTO VISITE VALUES ('VS941','T368', 'S02','03', '2022-08-09', '17:30:00', 'BRMDVD66E18F205U' ,'100',NULL );
INSERT INTO VISITE VALUES ('VS945','U489', 'S01','02', '2021-02-17','11:00:00', 'ROIWH9464568974V','100',NULL);
INSERT INTO VISITE VALUES ('VS097','S567', 'S02','04', '2023-09-16', '10:00:00', 'LCSMRA80A43B963A' ,'100',NULL );
INSERT INTO VISITE VALUES ('VS591','P108', 'S03','03', '2024-01-13','14:00:00', 'ROIWH9464568974V','100',NULL);

CREATE TABLE OPERAZIONI (
    COD_OP CHAR(20) PRIMARY KEY,
    CF_PAZ CHAR(20),
    SALA CHAR(10),
    TIPO CHAR(20),
    GIORNO DATE,
    ORA TIME(0),
    VET_REFERENTE CHAR(20),
    COSTO INT,
    NOTE CHAR(50),
    FOREIGN KEY (VET_REFERENTE)
        REFERENCES DIPENDENTI (CF_DIP),
    FOREIGN KEY (SALA)
        REFERENCES SALE (COD_SALA)
);


INSERT INTO OPERAZIONI VALUES ('OP004','K300', 'S04','05', '2022-02-13', '11:30:00', 'BRMDVD66E18F205U' ,800,NULL );
INSERT INTO OPERAZIONI VALUES ('OP679','S567','S03', '07', '2022-06-04','14:00:00', 'LCSMRA80A43B963A',900,NULL);
INSERT INTO OPERAZIONI VALUES ('OP026','K300', 'S03','06', '2022-02-13', '09:30:00', 'ROIWH9464568974V' ,1000,NULL );
INSERT INTO OPERAZIONI VALUES ('OP325','S567','S04', '05', '2022-06-04','13:00:00', 'EVEFVSV456546654',150,NULL);

CREATE TABLE LISTINO (
    COD_OP_VIS CHAR(20) PRIMARY KEY,
    TIPO CHAR(20),
    PREZZO INT
);


INSERT INTO LISTINO VALUES ('01', 'CONTOLLO', 50 );
INSERT INTO LISTINO VALUES ('02', 'RICOVERO' ,150);
INSERT INTO LISTINO VALUES ('03', 'PRERICOVERO', 90 );
INSERT INTO LISTINO VALUES ('04','POSTRICOVERO',70);
INSERT INTO LISTINO VALUES ('05', 'OPERAZIONE', 300 );
INSERT INTO LISTINO VALUES ('06', 'OPERAZIONE', 350 );
INSERT INTO LISTINO VALUES ('07', 'OPERAZIONE', 370 );

CREATE TABLE SALE (
    COD_SALA CHAR(20) PRIMARY KEY,
    TIPO CHAR(20)
);


INSERT INTO SALE VALUES ('S01', 'visite' );
INSERT INTO SALE VALUES ('S02', 'visite' );
INSERT INTO SALE VALUES ('S03', 'operazioni');
INSERT INTO SALE VALUES ('S04', 'operazioni');
INSERT INTO SALE VALUES ('S05', 'visite' );